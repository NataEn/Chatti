<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.dev.js" type="text/javascript"></script>
    <script src='./socket.io-stream.js' type="text/javascript"></script>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css"
    />

    <link rel="stylesheet" href="style.css" />
    <title>Document</title>
  </head>
  <body class="container-fluid">
    <h1 class="text-center">Welcom to my chat app</h1>
    <button
    data-recType='phonecall' class="m-1 btn btn-outline-primary fas fa-microphone fa-lg position-relative" id='phoneCall'
    >
    <span class="recieverName badge bg-secondary d-none text-center position-absolute">0</span></button>
    <button
    data-recType='filmcall'
      class="m-1 btn btn-outline-primary fas fa-video fa-lg position-relative" id='videoCall'
    ><span class="recieverName badge bg-secondary d-none text-center position-absolute">0</span></button>

    <div id="chat">
      <ul id="chat-window" class="list-group p-3 mb-2 bg-light text-dark">
        <li class="bg-light list-group-item">
          <span class="text-primary">system: </span><span>no messages yet</span>
        </li>
      </ul>
      <video class='video w-45 h-45 p-3' autoplay></video>
      <div id="typing" class="font-italic text-muted"></div>
      <div class="d-none video-container">
        <video class='video w-45 h-45 p-3' muted>Video not available...</video>
        <audio id="player" controls class='d-none'></audio>
        <div class="input-group mb-3"> 
          <div class="input-group-prepend"> 
            <button id="photo-button" class="btn btn-success d-inline-block">Take a Photo</button>
          </div>
          <div class="input-group-prepend"> 
            <button id="video-button" class="btn btn-info d-inline-block">Record video</button>
          </div>
        <select id="photoFilter" class="select custom-select d-inline-block">
          <option value="none" selected>Choose filter...</option>
          <option value="none">Normal</option>
          <option value="grayscale(100%)">Grayscale</option>
          <option value="sepia(100%)">Sepia</option>
          <option value="invert(100%)">Invert</option>
          <option value="hue-rotate(90deg)">Hue</option>
          <option value="blur(10px)">Blur</option>
          <option value="contrast(200%)">Contrast</option>
        </select>
        <button id="clear-button" class="btn btn-light fas fa-trash-alt"> Cleare-settings</button>
      </div>
        <canvas id="canvas" class='w-45 h-45 p-3 d-none'></canvas>
      </div>
      <div id='live-chat'>
        <label>Your ID:</label><br/>
    <textarea id="yourId"></textarea><br/>
    <label>Other ID:</label><br/>
    <textarea id="otherId"></textarea>
    <button id="connect">connect</button><br/>
    <label>Enter Message:</label><br/>
    <textarea id="yourMessage"></textarea>
    <button id="send">send</button>
    <pre id="messages"></pre>
        <video id="localVideo" autoplay playsinline></video>
        <video id="remoteVideo" autoplay playsinline></video>
        <div>
          <button id="startButton">Start</button>
          <button id="callButton">Call</button>
          <button id="hangupButton">Hang Up</button>
        </div>
      </div>
        <input
          type="text"
          class="form-control"
          placeholder="name"
          aria-label="name"
          name="name"
          id="name"
        />
        <div class="input-group mb-3">
          <button
            class="m-1 btn btn-outline-primary fas fa-camera fa-lg position-relative"
            id="picture"
          ><span id='picAmount' class="badge bg-secondary d-none text-center position-absolute">0</span>
            <input type="file" class="picture" hidden='hidden' multiple accept="image/*;"capture="camera"></input>
          </button>
          <button
            class="m-1 btn btn-outline-primary fas fa-camera fa-lg position-relative"
            id="photo"
            data-recType='photo'
          ><span id='photoAmount' class="badge bg-secondary d-none text-center position-absolute">0</span>
          </button>
          <button
          data-recType='voice' class="m-1 btn btn-outline-primary fas fa-microphone fa-lg position-relative" id='audio'
          ><span id='audioAmount' class="badge bg-secondary d-none text-center position-absolute">0</span></button>
          <button
          data-recType='photo'
            class="m-1 btn btn-outline-primary fas fa-video fa-lg position-relative" id='video'
          ><span id='videoAmount' class="badge bg-secondary d-none text-center position-absolute">0</span></button>
          <button
            id="file" 
            class="m-1 btn btn-outline-primary fas fa-paperclip fa-lg position-relative"
          ><span id='fileAmount' class="badge bg-secondary d-none text-center position-absolute">0</span>
            <input
              type="file"
              class="d-none file"
              multiple
            />
            
          </button>

          <input
            class="m-1 form-control"
            type="text"
            name="message"
            id="message"
            placeholder="message"
            aria-label="message"
          />
        </div>
        <button
          class="shadow btn btn-primary btn-block"
          type="submit"
          id="submit"
        >
          Send
        </button>
      </div>
    </div>
    <!-- <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script> -->
    <script src="/chat.js"></script>
    <script src='/record.js'></script>
    <script src='/streamCall.js'></script>
    <script
      src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
      integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
      integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
